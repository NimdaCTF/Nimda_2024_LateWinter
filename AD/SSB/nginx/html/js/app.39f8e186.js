(function(t){function e(e){for(var r,i,o=e[0],u=e[1],c=e[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,o=1;o<n.length;o++){var u=n[o];0!==s[u]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},s={app:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0163":function(t,e,n){"use strict";n("a00a")},"034f":function(t,e,n){"use strict";n("85ec")},"0ab7":function(t,e,n){},"12dc":function(t,e,n){},"15d2":function(t,e,n){t.exports=n.p+"img/empty_avatar.f3d4a8fe.png"},2789:function(t,e,n){"use strict";n("4455")},"2d23":function(t,e,n){"use strict";n("b76f")},"2eb2":function(t,e,n){"use strict";n("a9c6")},"2ec0":function(t,e,n){"use strict";n("5ea2")},"2f2a":function(t,e,n){},"34f1":function(t,e,n){},"38e0":function(t,e,n){"use strict";n("9436")},"3f5f":function(t,e,n){},4455:function(t,e,n){},"4f98":function(t,e,n){},"53b9":function(t,e,n){"use strict";n("4f98")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],i={name:"App",components:{},created:function(){}},o=i,u=(n("034f"),n("2877")),c=Object(u["a"])(o,s,a,!1,null,null,null),l=c.exports,d=n("5f5b"),p=(n("f9e3"),n("2dd8"),n("2f62")),h=n("bc3a"),m=n.n(h),f=(n("45fc"),n("8c4f")),g=(n("4160"),n("caad"),n("d3b7"),n("25f0"),n("2532"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"profile"},[n("div",{staticClass:"upper-space"},[n("StudentField",{staticClass:"student-field"})],1),t._l(t.items,(function(t,e){return n("div",{key:e,staticClass:"middle-space"},[n("Transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[n("StudentCourse",{attrs:{title:t.name,dep:"Кафедра рофлографии","course-id":t.id}})],1)],1)}))],2)}),v=[],_=(n("ddb0"),n("96cf"),n("1da1")),w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"s-field"},[r("img",{attrs:{src:n("15d2")}}),r("div",[t.user.name&&t.user.surname?r("a",{on:{click:t.gotoUser}},[t._v(t._s(t.user.name)),r("br"),t._v(t._s(t.user.surname))]):r("a",{on:{click:t.gotoUser}},[t._v(t._s(t.user.username))]),r("hr",{attrs:{color:"white"}})])])},b=[],k=(n("b0c0"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user"},[r("img",{attrs:{src:n("15d2")}}),r("h1",[t._v(t._s(t.user.name))]),r("h1",[t._v(t._s(t.user.surname))]),t.user.is_generated?r("h1",{staticStyle:{"margin-top":"150px",color:"red"}},[t._v("Secret: "+t._s(t.user.passport))]):t._e()])}),C=[],x={name:"User",data:function(){return{user:{name:"none",surname:"none"},userName:null,userSurName:null,userPatronymic:null,snpChanged:!1}},created:function(){this.getUser()},methods:{getUser:function(){var t=this;this.$store.dispatch("getUser").then((function(){t.user=t.$store.state.user,t.userName=t.user.name,t.userSurName=t.user.surname}))}}},y=x,$=(n("6f47"),Object(u["a"])(y,k,C,!1,null,"7f42391b",null)),S=$.exports,j={name:"StudentField",props:{editable:Boolean||!1},data:function(){return{user:{name:"none",surname:"none"},userName:null,userSurName:null,userPatronymic:null,snpChanged:!1}},created:function(){this.getUser()},methods:{getUser:function(){var t=this;this.$store.dispatch("getUser").then((function(){t.user=t.$store.state.user,t.userName=t.user.name,t.userSurName=t.user.surname,t.userPatronymic=t.user.patronymic}))},isSnpChanged:function(){this.snpChanged=this.userName!==this.user.name&&this.userSurName!==this.user.surname&&this.userPatronymic!==this.user.patronymic},gotoUser:function(){this.$store.commit("change_module",S)}},watch:{userName:function(){this.isSnpChanged()},userSurName:function(){this.isSnpChanged()},userPatronymic:function(){this.isSnpChanged()}}},O=j,R=(n("a7a7"),Object(u["a"])(O,w,b,!1,null,"14a7518f",null)),P=R.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"course-block"},[n("p",[t._v(t._s(t.dep))]),n("a",{attrs:{href:"#"},on:{click:function(e){return t.goTo()}}},[t._v(t._s(t.title))]),n("div",{staticClass:"right-arrow"},[n("ul",[n("li",[n("a",{staticClass:"animated-arrow",attrs:{href:"#"},on:{click:function(e){return t.goTo()}}},[t._m(0),t._m(1)])])])])])},I=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"the-arrow -left"},[n("span",{staticClass:"shaft"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"main"},[n("span",{staticClass:"text"},[t._v(" Перейти ")]),n("span",{staticClass:"the-arrow -right"},[n("span",{staticClass:"shaft"})])])}],T=(n("a9e3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-view"},[n("div",{staticClass:"c-header"},[n("h1",[t._v(t._s(this.subject.name))]),n("h5",[t._v("Преподаватель: "+t._s(this.teacher.snp))]),n("h5",[t._v("Кафедра: Кафедра рофлографии")])]),n("div",{staticClass:"c-body"},[n("ol",{staticClass:"rounded"},t._l(this.tasks,(function(e,r){return n("li",{key:r,attrs:{value:e}},[n("a",{attrs:{href:"#"},on:{click:function(n){return t.gotoTaskView(e.id)}}},[t._v("Практическая работа "+t._s(r+1)+". Тема: "+t._s(e.title))])])})),0)])])}),N=[],M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task-view"},[n("h1",[t._v(t._s(t.task.title))]),n("div",{staticClass:"input-file"},[n("div",{staticClass:"form-group"},[n("input",{staticClass:"input-file",attrs:{id:"file",name:"file",type:"file"},on:{change:t.uploadFile}}),t._m(0)]),t.task.filename?n("a",{on:{click:t.loadFile}},[t._v("Просмотреть загруженный ответ")]):t._e()])])},U=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"btn btn-tertiary js-labelFile",attrs:{for:"file"}},[n("span",{staticClass:"js-fileName"},[t._v("Загрузить ответ")])])}],z=(n("ac1f"),n("1276"),{name:"TaskView",data:function(){return{task:{}}},methods:{getTasks:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m()({url:this.$store.state.api_host+"?method=getTaskById&id="+this.$store.state.taskId,withCredentials:!0,method:"GET"}).then((function(t){t.data.status?e.task=t.data:e.$toast.error(t.data.error)})).catch((function(t){e.$toast.error(t.toString())}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),uploadFile:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var n,r,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=function(t){return new Promise((function(e,n){var r=new FileReader;r.readAsDataURL(t),r.onload=function(){return e(r.result)},r.onerror=function(t){return n(t)}}))},t.next=3,n(e.target.files[0]);case 3:return r=t.sent,r=r.split(",")[1],t.next=7,m()({url:this.$store.state.api_host,withCredentials:!0,method:"POST",data:{method:"uploadFile",taskId:this.task.id,file:r,filename:e.target.files[0].name}}).then((function(t){t.data.status?(s.$toast.success("Sent!"),s.getTasks()):s.$toast.error(t.data.error)})).catch((function(t){s.$toast.error(t.toString())}));case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),loadFile:function(){window.open("/index.php?method=loadFile&id="+this.task.id,"_blank")}},deactivated:function(){this.task={}},activated:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getTasks();case 2:console.log(t.task);case 3:case"end":return e.stop()}}),e)})))()}}),B=z,G=(n("f708"),Object(u["a"])(B,M,U,!1,null,"df5dbb3c",null)),L=G.exports,F={name:"CourseView",data:function(){return{teacher_d:{},subject_d:{},tasks_d:[]}},computed:{courseId:function(){return this.$store.state.viewCourseId},teacher:function(){return this.teacher_d},subject:function(){return this.subject_d},tasks:function(){return this.tasks_d}},methods:{getTeachers:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m()({url:this.$store.state.api_host+"?method=getTeacherByCourseId&id="+this.courseId,withCredentials:!0,method:"GET"}).then((function(t){t.data.status?e.teacher_d=t.data:e.$toast.error(t.data.error)})).catch((function(t){e.$toast.error(t.toString())}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getSubject:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m()({url:this.$store.state.api_host+"?method=getSubjectById&id="+this.courseId,withCredentials:!0,method:"GET"}).then((function(t){t.data.status?e.subject_d=t.data:e.$toast.error(t.data.error)})).catch((function(t){e.$toast.error(t.toString())}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getTasks:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m()({url:this.$store.state.api_host+"?method=getTasksBySubject&id="+this.courseId,withCredentials:!0,method:"GET"}).then((function(t){t.data.status?(console.log(t.data),e.tasks_d=t.data.values):e.$toast.error(t.data.error)})).catch((function(t){e.$toast.error(t.toString())}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),gotoTaskView:function(t){this.$store.state.taskId=t,this.$store.commit("change_module",L)}},deactivated:function(){this.teacher_d={},this.subject_d={},this.tasks_d=[]},activated:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getTeachers();case 2:return e.next=4,t.getSubject();case 4:return e.next=6,t.getTasks();case 6:case"end":return e.stop()}}),e)})))()}},q=F,A=(n("2eb2"),Object(u["a"])(q,T,N,!1,null,"703627e1",null)),D=A.exports,V={name:"StudentCourse",props:{title:String,courseId:Number,dep:String},methods:{goTo:function(){this.$store.state.viewCourseId=this.courseId,this.$store.commit("change_module",D)}}},H=V,W=(n("74d9"),Object(u["a"])(H,E,I,!1,null,"7873c755",null)),J=W.exports,X={name:"Profile",components:{StudentCourse:J,StudentField:P},mounted:function(){this.getCurrentSubjects()},data:function(){return{items:[]}},methods:{getCurrentSubjects:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m()({url:this.$store.state.api_host+"?method=getCurrentSubjects&semester=3",withCredentials:!0,method:"GET"}).then((function(t){t.data.status?e.items=t.data.values:e.$toast.error(t.data.error)})).catch((function(t){e.$toast.error(t.toString())}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},Y=X,Z=(n("2d23"),Object(u["a"])(Y,g,v,!1,null,"183c7a04",null)),K=Z.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-md-6 col-sm-12"},[n("div",{staticClass:"institute-login-form"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.auth(e)}}},[n("div",{staticClass:"form-group"},[n("model-select",{ref:"inst_select",attrs:{required:"",options:t.inst_options,placeholder:"Institute"},model:{value:t.institute,callback:function(e){t.institute=e},expression:"institute"}})],1),n("div",{staticClass:"form-group",on:{focus:t.get_groups}},[n("model-select",{ref:"group_select",attrs:{required:"",options:t.group_options,placeholder:"Group"},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}})],1),n("div",{staticClass:"form-group"},[n("model-select",{ref:"snp_select",attrs:{required:"",options:t.snp_options,placeholder:"Surname Name Patronymic"},model:{value:t.snp,callback:function(e){t.snp=e},expression:"snp"}})],1),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",required:"",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("button",{staticClass:"btn btn-black",attrs:{type:"submit"}},[t._v("Submit")])])])])},tt=[],et=(n("99af"),n("b410"));n("41e9"),n("c975");function nt(){for(var t=document.cookie.split(";"),e=0;e<t.length;e++){var n=t[e],r=n.indexOf("="),s=r>-1?n.substr(0,r):n;document.cookie=s+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}}var rt=nt,st={name:"InstituteLogin",components:{ModelSelect:et["ModelSelect"]},data:function(){return{institute:null,group:null,snp:null,password:"",inst_options:[],group_options:[],snp_options:[]}},methods:{get_institutes:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],t.next=3,m.a.get(this.$store.state.api_host+"?method=getInstitutesList").then((function(t){t.data.values.forEach((function(t){e.push({value:t.id,text:t.name})})),n.inst_options=e}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),get_groups:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],t.next=3,m.a.get(this.$store.state.api_host+"?method=getGroupsByInstitute&institute_id="+e).then((function(t){t.data.values.forEach((function(t){n.push({value:t.id,text:t.name})})),r.group_options=n}));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),get_students:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],t.next=3,m.a.get(this.$store.state.api_host+"?method=getStudentsByGroup&group_id="+e).then((function(t){t.data.values.forEach((function(t){n.push({value:t.id,text:"".concat(t.surname," ").concat(t.name," ").concat(t.patronymic)})})),r.snp_options=n}));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),auth:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,n,r=this,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=!(s.length>0&&void 0!==s[0])||s[0],n=!(s.length>1&&void 0!==s[1])||s[1],t.t0=e,!t.t0){t.next=7;break}return t.next=6,this.is_fields_correct();case 6:t.t0=!t.sent;case 7:if(!t.t0){t.next=9;break}return t.abrupt("return");case 9:this.$store.dispatch("login",{id:this.snp||"",password:this.password||"",auth_type:"institute"}).then((function(){if(r.$store.getters.isLoggedIn)r.$router.push("/");else{if(!r.$store.state.error)throw new Error("EVERYTHING IS BAD");n&&r.$toast.error(r.$store.state.error),rt()}})).catch((function(t){console.warn(t),n&&r.$toast.warning("Something went wrong. Try to reload the page."),rt()}));case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),is_fields_correct:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.institute&&this.group&&this.snp){t.next=3;break}return this.$toast.error("Fill all fields"),t.abrupt("return",!1);case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},beforeMount:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!document.cookie.includes("PHPSESSID=")){e.next=3;break}return e.next=3,t.auth(!1,!1);case 3:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.get_institutes();case 2:case"end":return e.stop()}}),e)})))()},watch:{institute:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.get_groups(e);case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),group:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.get_students(e);case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},at=st,it=(n("8413"),Object(u["a"])(at,Q,tt,!1,null,"7f21b152",null)),ot=it.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-md-6 col-sm-12"},[n("div",{staticClass:"special-login-form"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.auth(e)}}},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"form-control",attrs:{placeholder:"Username",required:"",type:"text"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"Password",required:"",type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("button",{staticClass:"btn btn-black",attrs:{type:"submit"}},[t._v("Submit")])])])])},ct=[],lt=(n("498a"),{name:"SpecialLogin",data:function(){return{login:"",password:""}},methods:{auth:function(){var t=this;this.$store.dispatch("login",{username:this.login.trim(),password:this.password,auth_type:"special"}).then((function(){t.$store.getters.isLoggedIn?t.$store.dispatch("getUser").then((function(){t.$store.state.user.group_id?t.$router.push("/"):t.$router.push("/init")})):(t.$toast.error(t.$store.state.error),rt())})).catch((function(e){t.$toast.warning("Something went wrong. Try to reload the page."),rt(),console.log(e)}))}}}),dt=lt,pt=(n("2ec0"),Object(u["a"])(dt,ut,ct,!1,null,"49c43597",null)),ht=pt.exports,mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-md-6 col-sm-12"},[n("div",{staticClass:"special-login-form"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.signup(e)}}},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"form-control",attrs:{required:"",type:"text",placeholder:"Username"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{required:"",type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password_retype,expression:"password_retype"}],staticClass:"form-control",attrs:{required:"",type:"password",placeholder:"Retype password"},domProps:{value:t.password_retype},on:{input:function(e){e.target.composing||(t.password_retype=e.target.value)}}})]),n("button",{staticClass:"btn btn-black",attrs:{type:"submit"}},[t._v("Submit")])])])])},ft=[],gt=(n("466d"),{name:"SignUpSpecial",data:function(){return{login:"",password:"",password_retype:""}},methods:{signup:function(){var t=this;this.check_fields()&&this.$store.dispatch("signup",{username:this.login.trim(),password:this.password,signup_type:"special"}).then((function(){if(t.$store.getters.isSignedUp)t.$toast.success("Success"),t.$router.push("/");else{if(!t.$store.state.error)throw new Error("EVERYTHING IS BAD");t.$toast.error(t.$store.state.error),rt()}})).catch((function(e){t.$toast.warning("Something went wrong. Try to reload the page."),rt(),console.log(e)}))},check_fields:function(){return this.password!==this.password_retype?(this.$toast.error("Passwords do not match"),!1):this.login.trim().length<3||this.login.trim().length>30?(this.$toast.error("Invalid username length"),!1):this.login.trim().match("^[A-Za-zА-Яа-я-]{2,30}$")?!(this.password.length<7||this.password.length>30)||(this.$toast.error("Invalid password length"),!1):(this.$toast.error("Invalid username"),!1)}}}),vt=gt,_t=(n("f66c"),Object(u["a"])(vt,mt,ft,!1,null,"e4d66374",null)),wt=_t.exports;r["default"].use(p["a"]);var bt=new p["a"].Store({state:{loginState:!1,signUpState:!1,error:"",user:{},current_module:K,current_module_params:{},current_login_module:[ot,0],is_menu_opened:!1,menu_content:null,api_host:"/index.php",viewCourseId:NaN,taskId:NaN},mutations:{change_module:function(t,e){t.current_module=e},change_active_module:function(t,e){t.menu_content.forEach((function(t,n,r){r[n].is_active=t.title===e}))},change_login_module:function(t,e){var n=0;e===ht?n=1:e===wt&&(n=2),t.current_login_module=[e,n]},toggle_menu:function(t){t.is_menu_opened=!t.is_menu_opened},set_menu_items:function(t,e){t.menu_content=e},auth_state:function(t,e,n){t.loginState=e,t.user=n},logout:function(t){t.loginState=!1,t.signUpState=!1,t.error="",t.user={},t.current_module=K,t.current_login_module=[ot,0],t.is_menu_opened=!1,t.menu_content=null,t.current_module_params={}},signup_state:function(t,e){t.signUpState=e},set_user:function(t,e){t.user=e}},getters:{isLoggedIn:function(t){return t.loginState},isSignedUp:function(t){return t.signUpState}},actions:{login:function(t,e){var n=this,r=t.commit;return new Promise((function(t){var s={method:"auth"};Object.assign(s,e),m()({url:n.state.api_host,data:s,method:"POST",withCredentials:!0}).then((function(e){var n=e.data;if(!n.status)throw new Error(n.error);r("auth_state",!0,e.data),!document.cookie.includes("PHPSESSID")&&n.token&&(document.cookie+="PHPSESSID="+n.token+";"),t(e)})).catch((function(e){n.state.error=e.toString(),r("auth_state",!1,{}),t(e)}))}))},logout:function(t){var e=this,n=t.commit;return rt(),new Promise((function(t){m()({url:e.state.api_host,data:{method:"logout"},withCredentials:!0,method:"POST"}).then((function(e){n("logout"),t(e)})).catch((function(e){t(e)}))}))},signup:function(t,e){var n=this,r=t.commit;return new Promise((function(t){var s={method:"signup"};Object.assign(s,e),m()({url:n.state.api_host,data:s,method:"POST",withCredentials:!0}).then((function(e){var n=e.data;if(!n.status)throw new Error(n.error);r("signup_state",!0),r("change_login_module",ht),t(e)})).catch((function(e){n.state.error=e.toString(),r("signup_state",!1),t(e)}))}))},getUser:function(t){var e=this,n=t.commit;return new Promise((function(t){m()({url:e.state.api_host+"/?method=getUser",method:"GET",withCredentials:!0}).then((function(e){var r=e.data;if(!r.status)throw new Error(r.error);n("set_user",r),t(e)})).catch((function(n){e.state.error=n.toString(),t(n)}))}))}}}),kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"sidenav"},[n("div",{staticClass:"login-main-text"},[n("h2",[t._v(t._s(t.app_name)),n("br"),t._v(" Login Page")]),n("p",[t._v(t._s(t.login_page_description))])])]),n("div",{staticClass:"main"},[n("div",{staticClass:"btn-group switcher",attrs:{role:"group"}},[n("button",{staticClass:"btn btn-default",class:{switcher_active:0===t.computeModule[1]},attrs:{type:"button"},on:{click:function(e){return t.changeModule("institute")}}},[t._v("Institute ")]),n("button",{staticClass:"btn btn-default",class:{switcher_active:1===t.computeModule[1]},attrs:{type:"button"},on:{click:function(e){return t.changeModule("special_login")}}},[t._v("Special ")])]),n(t.computeModule[0],{tag:"component"}),2!==t.computeModule[1]?n("a",{staticStyle:{"margin-top":"10px"},attrs:{href:"#"},on:{click:function(e){return t.changeModule("special_signup")}}},[t._v("Sign UP")]):t._e()],1)])},Ct=[],xt={name:"Login",components:{SignUpSpecial:wt,SpecialLogin:ht,InstituteLogin:ot},data:function(){return{choice:0,app_name:"SSB",login_page_description:"Make world better!"}},methods:{changeModule:function(t){"institute"!==t?"special_login"!==t?"special_signup"===t&&this.$store.commit("change_login_module",wt):this.$store.commit("change_login_module",ht):this.$store.commit("change_login_module",ot)}},computed:{computeModule:function(){return this.$store.state.current_login_module}}},yt=xt,$t=(n("38e0"),Object(u["a"])(yt,kt,Ct,!1,null,"1e2a8ede",null)),St=$t.exports,jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"workspace"},[n("div",{staticClass:"content"},[n("Menu",{ref:"menu"}),n("ModuleView",{staticClass:"module-view",attrs:{module:t.current_module}})],1)])},Ot=[],Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"nav__bar"},[n("a",{staticClass:"nav__trigger",attrs:{href:"#"},on:{click:t.trigger_click}},[n("div",{staticClass:"bars"})])]),n("transition",{attrs:{name:"slide-fade"}},[this.$store.state.is_menu_opened?[n("MenuContent",{staticStyle:{"z-index":"2"},attrs:{items:t.construct_menu()}})]:t._e()],2)],1)},Pt=[],Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{ref:"nav",staticClass:"nav"},[n("ul",{ref:"nav_list",staticClass:"nav__list"},t._l(t.items,(function(e,r){return n("li",{key:r,staticClass:"nav__item"},[n("a",{class:e.is_active?"is-active":"",on:{click:function(n){return t.menu_click(e)}}},[t._v(" "+t._s(e.title)+" ")])])})),0)])},It=[],Tt={name:"MenuContent",props:{items:Array},methods:{menu_click:function(t){this.$store.commit("change_module",t.module),this.$store.commit("toggle_menu"),this.$store.commit("change_active_module",t.title)}}},Nt=Tt,Mt=(n("0163"),Object(u["a"])(Nt,Et,It,!1,null,"4aab72b7",null)),Ut=Mt.exports,zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"profile"},[n("div",{staticClass:"upper-space"},[n("StudentField",{staticClass:"student-field",attrs:{editable:t.isUserSNPed}})],1),n("div",{staticClass:"items"},[n("ChangePassword")],1)])},Bt=[],Gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"change-password"},[n("h3",[t._v("Change password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.retype_password,expression:"retype_password"}],attrs:{type:"password",placeholder:"Retype password"},domProps:{value:t.retype_password},on:{input:function(e){e.target.composing||(t.retype_password=e.target.value)}}}),n("button",{staticClass:"btn btn-primary",on:{click:t.changePassword}},[t._v("Apply")])])},Lt=[],Ft={name:"ChangePassword",data:function(){return{password:"",retype_password:""}},methods:{changePassword:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.password===this.retype_password){t.next=3;break}return this.$toast.error("Passwords do not match"),t.abrupt("return",!1);case 3:if(!(this.password.length<7||this.password.length>30)){t.next=6;break}return this.$toast.error("Invalid password length"),t.abrupt("return",!1);case 6:return t.next=8,m()({url:this.$store.state.api_host,data:{method:"updatePassword",password:this.password},withCredentials:!0,method:"POST"}).then((function(t){t.data.status?(e.$toast.success("Successfully changed"),e.password="",e.retype_password=""):e.$toast.error(t.data.error)})).catch((function(t){e.$toast.error(t.toString())}));case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},qt=Ft,At=(n("cf25"),Object(u["a"])(qt,Gt,Lt,!1,null,"2fa16909",null)),Dt=At.exports,Vt={name:"Settings",components:{ChangePassword:Dt,StudentField:P},computed:{isUserSNPed:function(){return!this.$store.state.user.name||!this.$store.state.user.surname}}},Ht=Vt,Wt=(n("d0ab"),Object(u["a"])(Ht,zt,Bt,!1,null,"3e376dea",null)),Jt=Wt.exports,Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("keep-alive",[n("div",{staticClass:"rating"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.rating_choice,expression:"rating_choice"}],staticClass:"form-control form-control-lg selector",attrs:{disabled:t.working},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.rating_choice=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"1"}},[t._v("Group rating")]),n("option",{attrs:{value:"2"}},[t._v("Global rating")])]),n("vue-table-dynamic",{ref:"table",staticClass:"good-dark-table",attrs:{params:t.params}})],1)])},Yt=[],Zt=(n("b680"),{name:"Rating",data:function(){return{rating_choice:1,params:{data:[],header:"row",border:!1,columnWidth:[{column:0,width:60}],highlight:{column:[0,1,2]},highlightedColor:"rgb(23, 23, 23)",scrollbar:"hidden"},working:!0}},methods:{getRating:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.working=!0,e="",t.t0=parseInt(this.rating_choice),t.next=1===t.t0?5:2===t.t0?7:9;break;case 5:return e="getGroupRating",t.abrupt("break",10);case 7:return e="getGlobalRating",t.abrupt("break",10);case 9:return t.abrupt("return");case 10:return this.ratingClear(),t.next=13,m()({url:this.$store.state.api_host+"?method="+e,withCredentials:!0,method:"GET"}).then((function(t){var e=t.data.values||[];e.forEach((function(t,e){n.params.data.push([e+1,t.snp||t.username,t.average.toFixed(2)])}))})).catch((function(t){n.$toast.error(t.toString())}));case 13:this.working=!1;case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),ratingClear:function(){this.params.data=[["#","SNP","Average"]]}},mounted:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getRating();case 2:case"end":return e.stop()}}),e)})))()},watch:{rating_choice:function(){this.getRating()}}}),Kt=Zt,Qt=(n("58f1"),Object(u["a"])(Kt,Xt,Yt,!1,null,"78626a38",null)),te=Qt.exports,ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},ne=[],re={name:"Logout",beforeCreate:function(){this.$store.dispatch("logout"),this.$router.push("/login")}},se=re,ae=Object(u["a"])(se,ee,ne,!1,null,"58a3bbaa",null),ie=ae.exports,oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"book"},[n("div",{staticClass:"block-search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"text",placeholder:"Subject name or teacher name"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),n("select",{directives:[{name:"model",rawName:"v-model",value:t.semester_selected,expression:"semester_selected"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.semester_selected=e.target.multiple?n:n[0]},t.routine]}},t._l(t.semesters,(function(e,r){return n("option",{key:r,domProps:{value:e}},[t._v(t._s(e)+" semester")])})),0)]),n("div",{staticClass:"s-blocks"},t._l(t.items,(function(t,e){return n("div",{key:e},[n("SubjectBlock",{attrs:{name:t.name,teacher:t.teacher,mark:t.mark,id:t.id,type:t.pass_type}})],1)})),0)])},ue=[],ce=(n("2ca0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"s-block"},[n("p",{staticClass:"s-name"},[t._v(t._s(t.name))]),n("hr"),n("div",{staticClass:"s-info"},[n("svg",{staticClass:"my-icon",attrs:{"enable-background":"new 0 0 510 510",height:"512",viewBox:"0 0 510 510",width:"512",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"m121.285 164.705h136.647c8.284 0 15-6.716 15-15s-6.716-15-15-15h-136.647c-8.284 0-15 6.716-15 15s6.715 15 15 15z"}}),n("path",{attrs:{d:"m121.285 226.809h136.647c8.284 0 15-6.716 15-15s-6.716-15-15-15h-136.647c-8.284 0-15 6.716-15 15s6.715 15 15 15z"}}),n("path",{attrs:{d:"m495 101.078c8.284 0 15-6.716 15-15v-70.887c0-8.284-6.716-15-15-15h-480c-8.284 0-15 6.716-15 15v70.887c0 8.284 6.716 15 15 15h11v304.732c0 8.284 6.716 15 15 15h104.633c5.807 18.286 22.987 32.039 43.857 32.039h80.49c4.294 0 8.441-.643 12.35-1.836v43.796c0 8.284 6.716 15 15 15h.002 197.667c8.284 0 15-6.716 15-15v-131.94c0-21.46-10.202-40.572-26-52.775v-209.016zm-465-70.887h450v40.887h-450zm450 449.618h-39.038v-89.758c0-8.284-6.716-15-15-15s-15 6.716-15 15v89.758h-98.63v-89.758c0-8.284-6.716-15-15-15s-15 6.716-15 15v20.399c0 .016-.002.032-.002.048 0 6.81-5.54 12.35-12.35 12.35h-80.49c-8.874 0-16.02-7.182-16.02-16.02 0-8.833 7.187-16.02 16.02-16.02h48.5c8.284 0 15-6.716 15-15v-12.94c0-20.22 16.455-36.67 36.68-36.67h153.66c20.22 0 36.67 16.45 36.67 36.67zm-147.612-212.875v-25.866c0-16.134 13.125-29.259 29.259-29.259s29.259 13.125 29.259 29.259v25.866c0 16.134-13.125 29.259-29.259 29.259s-29.259-13.125-29.259-29.259zm121.612 30.129c-3.476-.562-7.038-.865-10.67-.865h-30.185c4.929-8.64 7.762-18.625 7.762-29.264v-25.866c0-32.676-26.583-59.259-59.259-59.259s-59.259 26.583-59.259 59.259v25.866c0 10.639 2.833 20.624 7.762 29.264h-20.48c-36.079 0-65.557 28.797-66.649 64.61h-33.532c-4.855 0-9.535.761-13.932 2.161l-52.29-99.157c-3.864-7.327-12.938-10.135-20.265-6.271-7.328 3.864-10.135 12.937-6.271 20.265l54.537 103.419c-1.995 2.969-3.652 6.182-4.919 9.584h-90.35v-289.731h398z"}})]),n("i",{attrs:{href:"#"}},[t._v(" "+t._s(t.teacher))]),n("br"),n("svg",{staticClass:"my-icon",attrs:{"enable-background":"new 0 0 512 512",height:"512",viewBox:"0 0 512 512",width:"512",xmlns:"http://www.w3.org/2000/svg"}},[n("g",[n("path",{attrs:{d:"m415.496 0h-318.982c-13.785 0-25 11.215-25 25 0 1.086-.01 359.606-.01 369.695 0 3.731 1.391 7.329 3.901 10.09l.01.011c.921 1.013 97.547 97.859 100.773 100.273 2.666 4.164 7.321 6.931 12.631 6.931h226.677c13.785 0 25-11.215 25-25v-462c0-13.785-11.215-25-25-25zm-241.677 460.79-51.11-51.105h51.11zm236.677 21.21h-206.677v-87.315c0-8.284-6.716-15-15-15h-87.306v-349.685h308.982v452z"}}),n("path",{attrs:{d:"m170.97 230.188c6.045 0 11.741-3.681 14.021-9.665l4.681-12.292h33.231l4.623 12.249c2.926 7.749 11.577 11.663 19.33 8.737 7.751-2.925 11.663-11.579 8.738-19.33l-33.267-88.149c-.053-.138-.106-.274-.162-.411-5.799-14.092-25.751-14.041-31.506.036-.046.112-.09.224-.133.336l-33.571 88.145c-3.742 9.828 3.543 20.344 14.015 20.344zm35.393-65.783 5.218 13.826h-10.484z"}}),n("path",{attrs:{d:"m270.44 125.75h20.713v20.713c0 8.284 6.716 15 15 15s15-6.716 15-15v-20.713h19.874c8.284 0 15-6.716 15-15s-6.716-15-15-15h-19.874v-19.874c0-8.284-6.716-15-15-15s-15 6.716-15 15v19.874h-20.713c-8.284 0-15 6.716-15 15s6.716 15 15 15z"}}),n("path",{attrs:{d:"m162 308h188c8.284 0 15-6.716 15-15s-6.716-15-15-15h-188c-8.284 0-15 6.716-15 15s6.716 15 15 15z"}}),n("path",{attrs:{d:"m350 379.685h-93.995c-8.284 0-15 6.716-15 15s6.716 15 15 15h93.995c8.284 0 15-6.716 15-15s-6.716-15-15-15z"}})])]),n("strong",[t._v(" "+t._s(t.type))])]),n("svg",{staticClass:"my-icon",attrs:{"enable-background":"new 0 0 509.815 509.815",height:"512",viewBox:"0 0 509.815 509.815",width:"512",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"m165.029 399.026c8.003 2.128 16.222-2.636 18.351-10.643l15.896-59.795 52.299-5.041 19.987 65.723c2.411 7.929 10.792 12.397 18.715 9.987 7.926-2.41 12.397-10.79 9.987-18.715l-18.225-59.931 3.72-.359c8.246-.795 14.287-8.124 13.492-16.37-.794-8.246-8.125-14.285-16.37-13.492l-9.746.939-35.366-116.298c-4.365-14.354-24.972-14.069-28.848.51l-33.28 125.185-26.915 2.594c-8.246.795-14.287 8.124-13.492 16.37.796 8.26 8.143 14.289 16.37 13.492l15.815-1.524-13.031 49.017c-2.13 8.006 2.635 16.222 10.641 18.351zm59.356-164.889 18.285 60.129-35.172 3.39z"}}),n("path",{attrs:{d:"m333.839 211.136c8.284 0 15-6.716 15-15v-32.22l16.619.962c8.269.478 15.363-5.837 15.842-14.108s-5.838-15.363-14.108-15.842l-18.353-1.062v-18.46c0-8.284-6.716-15-15-15s-15 6.716-15 15v16.724l-16.619-.962c-8.268-.48-15.363 5.838-15.842 14.108s5.838 15.363 14.108 15.842l18.353 1.062v33.957c0 8.284 6.716 14.999 15 14.999z"}}),n("path",{attrs:{d:"m418.667 70.653c-5.675-6.033-15.168-6.323-21.203-.648-6.034 5.677-6.324 15.169-.648 21.204 68.585 72.908 81.882 206.102 29.641 296.912-45.128 78.446-128.723 108.01-235.38 83.244-109.134-25.34-151.646-139.593-136.239-234.229 17.461-107.246 114.071-225.249 328.865-204.86 8.254.776 15.568-5.269 16.35-13.516.783-8.247-5.268-15.567-13.515-16.35-212.59-20.181-338.368 88.991-361.31 229.905-19.375 119.012 40.444 240.73 159.063 268.272 111.655 25.926 212.998-1.604 268.169-97.507 58.099-100.991 44.269-249.446-33.793-332.427z"}})]),t._v(" "),n("span",{staticClass:"mark"},[n("b",[t._v(t._s(t.mark))])])])}),le=[],de=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"s-page"},[n("h1",[t._v(t._s(this.props.name))]),n("hr"),n("vue-table-dynamic",{ref:"table",staticClass:"good-dark-table",staticStyle:{color:"#C2C3C4"},attrs:{params:t.params}})],1)},pe=[],he={name:"SubjectPage",data:function(){return{props:{subject_id:"",name:""},params:{data:[["#","SNP","Average"]],header:"row",border:!1,columnWidth:[{column:0,width:60}],highlight:{column:[0,1,2]},highlightedColor:"rgb(23, 23, 23)"}}},methods:{getProps:function(){this.props.name=this.$store.state.current_module_params.name,this.props.subject_id=this.$store.state.current_module_params.subject_id}},mounted:function(){this.getProps()}},me=he,fe=(n("e401"),Object(u["a"])(me,de,pe,!1,null,"0cc44567",null)),ge=fe.exports,ve={name:"SubjectBlock",props:{id:Number,name:String,teacher:String,mark:String,type:String},methods:{click:function(){this.$store.state.current_module_params={id:this.id,name:this.name},this.$store.commit("change_module",ge)}}},_e=ve,we=(n("53b9"),Object(u["a"])(_e,ce,le,!1,null,"2499f850",null)),be=we.exports,ke={name:"Book",components:{SubjectBlock:be},data:function(){return{true_items:[],items:[],semesters:[],semester_selected:0,search:""}},methods:{getMarks:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=null,t.next=3,m()({url:this.$store.state.api_host+"?method=getStudentMarks",withCredentials:!0,method:"POST"}).then((function(t){e=t.data.values}));case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getSubjects:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=null,t.next=3,m()({url:this.$store.state.api_host+"?method=getGroupSubjects",withCredentials:!0,method:"POST"}).then((function(t){e=t.data.values}));case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getMarkBySubject:function(t,e){var n=null;return t.forEach((function(t){t.subject_id===e&&(n=t.mark)})),n},routine:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.true_items=[],t.next=3,this.getMarks();case 3:return e=t.sent,t.next=6,this.getSubjects();case 6:n=t.sent,n.forEach((function(t){r.semesters.includes(t.semester)||r.semesters.push(t.semester)})),0===this.semester_selected&&(this.semester_selected=this.semesters[0]),this.semester_selected&&n.forEach((function(t){t.semester===r.semester_selected&&r.true_items.push({name:t.name,teacher:t.t_snp,mark:r.getMarkBySubject(e,t.id),pass_type:t.pass_type})})),this.items=this.true_items;case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},created:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.routine();case 2:case"end":return e.stop()}}),e)})))()},watch:{search:function(t){var e=this;this.items=[],""!==t?this.true_items.forEach((function(n){(n.name.toLowerCase().startsWith(t.trim().toLowerCase())||n.teacher.toLowerCase().includes(t.trim().toLowerCase()))&&e.items.push(n)})):this.$nextTick((function(){return e.items=e.true_items}))}}},Ce=ke,xe=(n("2789"),Object(u["a"])(Ce,oe,ue,!1,null,"5dca71a4",null)),ye=xe.exports,$e={name:"Menu",components:{MenuContent:Ut},methods:{trigger_click:function(){this.$store.commit("toggle_menu")},construct_menu:function(){return null===this.$store.state.menu_content&&(this.$store.state.menu_content=[{title:"Me",module:K,is_active:!0},{title:"Book",module:ye,is_active:!1},{title:"Rating",module:te,is_active:!1},{title:"Settings",module:Jt,is_active:!1},{title:"Logout",module:ie,is_active:!1}]),this.$store.state.menu_content}}},Se=$e,je=(n("bf24"),Object(u["a"])(Se,Rt,Pt,!1,null,"74aeae61",null)),Oe=je.exports,Re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"module-view"},[n("keep-alive",[n(t.module,{tag:"component"})],1)],1)},Pe=[],Ee={name:"ModuleView",props:{module:Object}},Ie=Ee,Te=(n("c49c"),Object(u["a"])(Ie,Re,Pe,!1,null,"4e1c3a39",null)),Ne=Te.exports,Me={name:"WorkSpace",components:{ModuleView:Ne,Menu:Oe},computed:{current_module:function(){return this.$store.state.current_module||K}}},Ue=Me,ze=(n("fa73"),Object(u["a"])(Ue,jt,Ot,!1,null,"a72badf4",null)),Be=ze.exports,Ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"init-page"},[n("center",[n("h1",[t._v("Hey. Where are you from?")]),n("div",{staticClass:"component"},[n("div",{staticClass:"col-md-6 col-sm-12"},[n("div",{staticClass:"institute-login-form"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.init(e)}}},[n("div",{staticClass:"form-group"},[n("model-select",{ref:"inst_select",attrs:{options:t.inst_options,placeholder:"Institute",required:""},model:{value:t.institute,callback:function(e){t.institute=e},expression:"institute"}})],1),n("div",{staticClass:"form-group",on:{focus:t.get_groups}},[n("model-select",{ref:"group_select",attrs:{options:t.group_options,placeholder:"Group",required:""},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}})],1),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.snp,expression:"snp"}],ref:"snp_tbx",staticClass:"form-control",attrs:{placeholder:"Surname Name Patronymic",required:"",type:"text"},domProps:{value:t.snp},on:{input:function(e){e.target.composing||(t.snp=e.target.value)}}})]),n("button",{staticClass:"btn btn-black",attrs:{type:"submit"}},[t._v("Let me in!")])])])])])])],1)},Le=[],Fe={name:"Initialize",components:{ModelSelect:et["ModelSelect"]},data:function(){return{institute:null,group:null,snp:null,inst_options:[],group_options:[]}},methods:{get_institutes:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],t.next=3,m.a.get(this.$store.state.api_host+"?method=getInstitutesList").then((function(t){t.data.values.forEach((function(t){e.push({value:t.id,text:t.name})})),n.inst_options=e}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),get_groups:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],t.next=3,m.a.get(this.$store.state.api_host+"?method=getGroupsByInstitute&institute_id="+e).then((function(t){t.data.values.forEach((function(t){n.push({value:t.id,text:t.name})})),r.group_options=n}));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),init:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m()({url:this.$store.state.api_host,withCredentials:!0,method:"POST",data:{method:"initUser",snp:this.snp,group_id:this.group}}).then((function(t){t.data.status?e.$store.dispatch("getUser").then((function(){e.$router.push("/")})):e.$toast.error(t.data.error)})).catch((function(t){e.$toast.error(t.toString())}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.get_institutes();case 2:case"end":return e.stop()}}),e)})))()},watch:{institute:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.get_groups(e);case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),group:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.get_students(e);case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},qe=Fe,Ae=(n("ee86"),Object(u["a"])(qe,Ge,Le,!1,null,"2b3d5348",null)),De=Ae.exports,Ve=new f["a"]({mode:"history",routes:[{path:"/",name:"app",component:Be,meta:{requiresAuth:!0,title:"PX | Workspace"}},{path:"/login",name:"login",component:St,meta:{title:"PX | Authentication"}},{path:"/init",name:"init",component:De,meta:{title:"PX | Initialize"}}]});Ve.beforeEach((function(t,e,n){document.title=t.meta.title,t.matched.some((function(t){return t.meta.requiresAuth}))?bt.getters.isLoggedIn?n():n("/login"):n()}));var He=Ve,We=n("6c42"),Je=(n("da96"),n("2b27")),Xe=n.n(Je),Ye=n("b040"),Ze=n.n(Ye),Ke=(n("6024"),n("f6c9")),Qe=n.n(Ke);r["default"].use(p["a"]),r["default"].use(m.a),r["default"].use(d["a"]),r["default"].use(We["a"]),r["default"].use(f["a"]),r["default"].use(Xe.a),r["default"].use(Ze.a),r["default"].use(Qe.a),r["default"].config.productionTip=!0,r["default"].prototype.$http=m.a,new r["default"]({render:function(t){return t(l)},router:He,store:bt}).$mount("#app")},"58f1":function(t,e,n){"use strict";n("5a0e")},"5a0e":function(t,e,n){},"5ea2":function(t,e,n){},"5f13":function(t,e,n){},"6f47":function(t,e,n){"use strict";n("dfc0")},7178:function(t,e,n){},"74d9":function(t,e,n){"use strict";n("0ab7")},"7eb4":function(t,e,n){},8413:function(t,e,n){"use strict";n("34f1")},"85ec":function(t,e,n){},9436:function(t,e,n){},a00a:function(t,e,n){},a4f0:function(t,e,n){},a7a7:function(t,e,n){"use strict";n("7178")},a9c6:function(t,e,n){},ade0:function(t,e,n){},b76f:function(t,e,n){},bf24:function(t,e,n){"use strict";n("7eb4")},c49c:function(t,e,n){"use strict";n("ade0")},cdd7:function(t,e,n){},cf25:function(t,e,n){"use strict";n("cdd7")},d0ab:function(t,e,n){"use strict";n("5f13")},dfc0:function(t,e,n){},e401:function(t,e,n){"use strict";n("3f5f")},ee86:function(t,e,n){"use strict";n("f6a0")},f66c:function(t,e,n){"use strict";n("2f2a")},f6a0:function(t,e,n){},f708:function(t,e,n){"use strict";n("a4f0")},fa73:function(t,e,n){"use strict";n("12dc")}});
//# sourceMappingURL=app.39f8e186.js.map